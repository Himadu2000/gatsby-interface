version: 2

jobs:
  gatsby-interface:
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run:
          name: Install yarn
          command: |
            curl -o- -L https://yarnpkg.com/install.sh
      - run:
          name: Install Dependencies
          command: yarn install
      - run:
          name: Build rollup
          command: yarn build:rollup
      # TODO: fix tests locally and add them to circleci
      - run:
          name: Type check
          command: yarn type-check
      - run:
          name: Eslint
          command: yarn lint
      - run:
          name: Prettier
          command: yarn prettier-eslint
